(function(a){a.fn.apToggleSwitch=function(e,l){if(e instanceof Object!=false){l=e;e=null}var d=a.extend({handleLabelClicks:true,handleKeyEvents:true,transitions:true,activeBorder:false,uppercase:true,theme:"default"},l);var k='<div class="ap-toggle-switch"><div class="ap-toggle-switch-slider"><div class="ap-toggle-switch-left"></div><div class="ap-toggle-switch-middle"><span class="on">On</span></div><div class="ap-toggle-switch-right"><span class="off">Off</span></div><div class="ap-toggle-switch-overlay"></div></div></div>';function f(m){this.checkbox=m;this.control=b();this.control.addClass("ap-toggle-switch-"+(this.checkbox.is(":checked")?"on":"off"));if(!d.transitions){this.control.addClass("no-transitions")}if(d.activeBorder){this.control.addClass("active-border")}if(d.uppercase){this.control.find(".on").addClass("uppercase");this.control.find(".off").addClass("uppercase")}this.checkbox.after(this.control).appendTo(this.control);j()}function b(){var n=a(k);n.addClass("ap-toggle-switch-"+d.theme);var o=this.checkbox.attr("id");if(o){n.attr("id","ap-toggle-switch-"+o)}var m=this.checkbox.attr("tabindex");if(m&&m>0){this.checkbox.removeAttr("tabindex")}n.attr("tabindex",(m?m:-1));return n}function j(){this.control.click(function(){h(a(this))});if(d.handleLabelClicks&&this.checkbox.attr("id")){a('label[for="'+this.checkbox.attr("id")+'"]').click(function(){var m="#"+a(this).attr("for");h(a(m));return false})}if(d.handleKeyEvents){this.control.keyup(function(n){var o=32,s=13,p=37,m=39,r=89,q=78;switch(n.keyCode){case o:case s:h(a(this));break;case m:case r:i(a(this));break;case p:case q:g(a(this));break}})}}function h(m){$control=c(m);if($control.hasClass("ap-toggle-switch")){$control.toggleClass("ap-toggle-switch-on ap-toggle-switch-off").children('input[type="checkbox"]').prop("checked",function(n,o){return !o}).change()}}function i(m){$control=c(m);if($control.hasClass("ap-toggle-switch-off")){h($control)}}function g(m){$control=c(m);if($control.hasClass("ap-toggle-switch-on")){h($control)}}function c(m){$control=m;if(m.is('input[type="checkbox"]')&&m.parent().hasClass("ap-toggle-switch")){$control=m.parent()}return $control}return this.each(function(){if(e==undefined||e==null){f(a(this))}else{if(e=="toggle"){h(a(this))}else{if(e=="on"||e=="yes"){i(a(this))}else{if(e=="off"||e=="no"){g(a(this))}}}}})}}(jQuery));